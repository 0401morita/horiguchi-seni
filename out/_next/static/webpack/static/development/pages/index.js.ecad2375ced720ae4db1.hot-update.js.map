{"version":3,"file":"static/webpack/static/development/pages/index.js.ecad2375ced720ae4db1.hot-update.js","sources":["webpack:///./pages/index.tsx"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\nimport { connect } from 'react-redux';\n//import Link from 'next/link';\nimport '../src/styles/home.scss';\nimport Header from '../src/containers/header';\nimport Footer from '../src/components/shares/footer';\n//import Footer from '../src/components/shares/footer';\nimport { HeroSection } from '../src/components/homes/slider';\nimport ServiceItem from '../src/components/homes/service_item';\nimport RecentPostItem from '../src/components/homes/recent_post_item';\nimport { State } from '../src/reducers';\n\ninterface HomeProps {}\n\nfunction afsa() {}\n\nconst Home: React.FC<HomeProps & State> = props => {\n  const [Services] = useState([\n    {\n      image_src:\n        'https://0401morita.github.io/horiguchi-seni/static/images/service/machine-quilting.jpg',\n      title: '縫製・販売',\n      summary: '生地・デザインの選定からユニフォームを縫製・販売',\n      label_en: 'Sewing & Sales',\n      label_ja: '縫製・販売について',\n      link: '/service/sewing'\n    },\n    {\n      image_src:\n        'https://0401morita.github.io/horiguchi-seni/static/images/service/name.jpg',\n      title: 'ユニフォーム販売',\n      summary: '各種メーカー品を特別価格にて販売',\n      label_en: 'Sale',\n      label_ja: '販売について',\n      link: '/service/sale'\n    },\n    {\n      image_src:\n        'https://0401morita.github.io/horiguchi-seni/static/images/service/iron.jpg',\n      title: 'リネンサプライ',\n      summary: 'ユニフォームのリースやクリーニング付リース',\n      label_en: 'Linen supply',\n      label_ja: 'リネンサプライについて',\n      link: '/service/linen-supply'\n    }\n  ]);\n\n  const [posts] = useState([\n    {\n      title: '夏季休暇のお知らせ',\n      created: '2019/10/21',\n      category: 'News',\n      link: '/news'\n    },\n    {\n      title: '暑い夏を快適に過ごせる素材',\n      created: '2019/10/19',\n      category: 'Column',\n      link: '/news'\n    },\n    {\n      title: '企業におけるユニフォーム導入の価値',\n      created: '2019/10/17',\n      category: 'Column',\n      link: '/news'\n    },\n    {\n      title: 'キャドカム導入のお知らせ',\n      created: '2019/10/10',\n      category: 'News',\n      link: '/news'\n    }\n  ]);\n\n  let windowState = {\n    width: 0,\n    height: 0\n  };\n\n  const homeMessageSectionEl = useRef<HTMLDivElement>(null);\n  const homePrimaryMessageEl = useRef<HTMLDivElement>(null);\n  /*\n   * リサイズ実行関数\n   *\n   * @event {Object} event - イベント\n   */\n  const handleResize = (e: any) => {\n    let timer = 200;\n    if (timer > 0) {\n      clearTimeout(timer);\n    }\n\n    timer = setTimeout(function() {\n      windowState = {\n        width: window.outerWidth,\n        height: window.outerHeight\n      };\n    }, timer);\n  };\n  /*\n   * スクロール実行関数\n   *\n   * @event {Object} event - イベント\n   */\n  const handleScroll = (e: any) => {\n    const { width: windowWidth, height: windowHeight } = windowState;\n    const vw = Math.floor(windowWidth * 0.06);\n    const scrollTop = Math.max(\n      window.pageYOffset,\n      document.documentElement.scrollTop,\n      document.body.scrollTop\n    );\n\n    const scrollBottom = scrollTop + windowHeight;\n\n    if (homePrimaryMessageEl.current && homeMessageSectionEl.current) {\n      const hmsOffsetTop = homeMessageSectionEl.current.offsetTop;\n      const {\n        top: homeMessageSectionTop,\n        height: homeMessageSectionHeight\n      } = homePrimaryMessageEl.current.getBoundingClientRect();\n\n      const {\n        top: homePrimaryMessageTop,\n        bottom: homePrimaryMessageBottom,\n        height: homePrimaryMessageHeight\n      } = homeMessageSectionEl.current.getBoundingClientRect();\n      if (windowWidth >= 768) {\n        const sectionCenter = homeMessageSectionHeight / 2;\n\n        console.log(sectionCenter);\n      } else {\n      }\n\n      console.log(hmsOffsetTop + homePrimaryMessageHeight, scrollBottom);\n\n      if (\n        hmsOffsetTop + homeMessageSectionHeight >=\n        homeMessageSectionTop + 24\n      ) {\n        document.body.classList.add('fix-message');\n      }\n      /*\n      console.log(\n        Math.floor(homePrimaryMessageBottom) + scrollTop + vw + 24,\n        scrollTop + windowHeight,\n        Math.floor(homePrimaryMessageBottom) + scrollTop + vw + 24 >\n          scrollTop + windowHeight\n      );\n\n      if (\n        Math.floor(homePrimaryMessageBottom) + scrollTop + vw + 24 >\n        scrollTop + windowHeight\n      ) {\n        document.body.classList.remove('fix-message');\n      }\n      */\n    }\n  };\n\n  useEffect(() => {\n    windowState = {\n      width: window.outerWidth,\n      height: window.outerHeight\n    };\n\n    document.body.classList.add('in');\n    window.addEventListener('load', handleScroll, false);\n    window.addEventListener('scroll', handleScroll, false);\n    window.addEventListener('resize', handleResize, false);\n\n    return () => {\n      window.removeEventListener('load', handleScroll, false);\n      window.removeEventListener('scroll', handleScroll, false);\n      window.removeEventListener('resize', handleResize, false);\n    };\n  }, []);\n\n  console.log('render');\n  return (\n    <div className=\"wrapper\">\n      <Header />\n\n      <article className=\"home\">\n        <HeroSection />\n\n        <section\n          className=\"section section-home-message\"\n          ref={homeMessageSectionEl}\n        >\n          <div className=\"home-primary-message\" ref={homePrimaryMessageEl}>\n            <h2 className=\"title\">\n              <span>ENJOY</span>\n              <br />\n              <span>UNIFORM</span>\n            </h2>\n\n            <p className=\"description\">\n              <span>ユニフォームを着る人をもっと快適に。</span>\n              <br />\n              <span>もっと楽しく。</span>\n            </p>\n          </div>\n\n          <div className=\"home-secondary-message\">\n            <p>堀口繊維工業は、戦後まもなく縫製事業を立ち上げました。</p>\n            <p>\n              ユニフォームを縫製・販売する一方で平成に入りクリーニング設備を\n              整えました。\n            </p>\n            <p>\n              現在、ユニフォームの縫製・販売・クリーニング・クリーニング付リース（リネンサプライ）を\n              中心に展開いたしております。\n            </p>\n\n            <a className=\"read-more-link\">\n              <span className=\"en\">About</span>\n              <span className=\"ja\">堀口繊維工業について</span>\n            </a>\n          </div>\n        </section>\n\n        <main className=\"main-content\">\n          <div className=\"section-heading\">\n            <h3 className=\"section-title\">\n              <span className=\"ja\">私たちの事業</span>\n              <span className=\"en\">Service</span>\n            </h3>\n          </div>\n\n          <div className=\"service-list\">\n            {Services.map((service, index) => {\n              return (\n                <ServiceItem\n                  {...{ ...service, index: '0' + (index + 1) }}\n                  key={index}\n                />\n              );\n            })}\n          </div>\n        </main>\n\n        <section className=\"section\">\n          <div className=\"row\">\n            <div className=\"col-md-5\">\n              <div className=\"section-heading\">\n                <h3 className=\"section-title\">\n                  <span className=\"ja\">お知らせ</span>\n                  <span className=\"en\">News and Column</span>\n                </h3>\n              </div>\n            </div>\n\n            <div className=\"col-md-7\">\n              <div className=\"recent-entries\">\n                <ul className=\"recent-entry-list\">\n                  {posts.map((post, index) => {\n                    return <RecentPostItem {...post} key={index} />;\n                  })}\n                </ul>\n              </div>\n            </div>\n          </div>\n        </section>\n      </article>\n\n      <div className=\"container-fluid\">\n        <div className=\"contact-banner\">\n          <h2 className=\"message\">\n            <span className=\"ja\">ご相談はありますか？</span>\n            <span className=\"en\">CONTACT</span>\n          </h2>\n        </div>\n      </div>\n\n      <Footer />\n    </div>\n  );\n};\n\nexport default connect(state => state)(Home);\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAIA;AACA;AACA;AAAA;AAGA;AAEA;AACA;AACA;AACA;AACA;AAPA;AAUA;AAEA;AACA;AACA;AACA;AACA;AAPA;AAUA;AAEA;AACA;AACA;AACA;AACA;AAPA;AApBA;AAAA;AACA;AADA;AAiCA;AACA;AACA;AACA;AAJA;AAOA;AACA;AACA;AACA;AAJA;AAOA;AACA;AACA;AACA;AAJA;AAOA;AACA;AACA;AACA;AAJA;AAlDA;AAAA;AACA;AAyDA;AACA;AACA;AAFA;AAKA;AACA;AACA;;;;;;AAKA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;;;;;;;AAKA;AAAA;AAAA;AAAA;AAEA;AACA;AAMA;AACA;AACA;AACA;AACA;AAFA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AAWA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAIA;AACA;AACA;;;;;;;;;;;;;;;AAeA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAKA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAEA;AADA;AAEA;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAQA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AAAA;AAAA;;;;A","sourceRoot":""}