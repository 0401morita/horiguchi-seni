{"version":3,"file":"static/webpack/static/development/pages/_app.js.3ba39e81aa6fd95875a9.hot-update.js","sources":["webpack:///./pages/_app.tsx"],"sourcesContent":["import React from 'react';\nimport Head from 'next/head';\nimport { createStore, applyMiddleware } from 'redux';\nimport { Provider } from 'react-redux';\nimport thunk from 'redux-thunk';\nimport App, { Container } from 'next/app';\nimport withRedux from 'next-redux-wrapper';\nimport '../src/styles/common.scss';\nimport reducers from '../src/reducers';\nimport { actions } from '../src/actions/app';\nimport Header from '../src/containers/header';\nimport Footer from '../src/components/shares/footer';\nimport RecentEntries from '../src/components/recent_entries/list';\nimport { AppState } from '../src/reducers/app';\n\nconst makeStore = () => {\n  return createStore(reducers, applyMiddleware(thunk));\n};\n\ninterface AppProps {\n  Component: React.Component;\n  pageProps: any;\n  store: any;\n}\n\nclass MyApp extends App<AppProps> {\n  static async getInitialProps({\n    Component,\n    ctx\n  }: {\n    Component: any;\n    ctx: any;\n  }) {\n    const pageProps = Component.getInitialProps\n      ? await Component.getInitialProps(ctx)\n      : {};\n    return { pageProps };\n  }\n\n  handleScroll = () => {\n    const scrollTop: number =\n      Math.max(\n        window.pageYOffset,\n        document.documentElement.scrollTop,\n        document.body.scrollTop\n      ) || 0;\n\n    const props = this.props;\n    const { app } = props.store.getState();\n    const updateState = {\n      ...app,\n      windows: {\n        ...app.windows,\n        scrollTop: scrollTop\n      }\n    };\n    this.props.store.dispatch(actions.setApp(updateState));\n  };\n\n  handleResize = () => {\n    let timer = 200;\n    if (timer > 0) {\n      clearTimeout(timer);\n    }\n\n    const props = this.props;\n    timer = setTimeout(function() {\n      const width = window.innerWidth;\n      const height = window.innerHeight;\n      const scrollTop: number =\n        Math.max(\n          window.pageYOffset,\n          document.documentElement.scrollTop,\n          document.body.scrollTop\n        ) || 0;\n\n      props.store.dispatch(\n        actions.setApp({\n          windows: {\n            scrollTop: scrollTop,\n            width: width,\n            height: height,\n            vw: Math.floor(width * 0.01),\n            vh: Math.floor(height * 0.01)\n          }\n        })\n      );\n    }, timer);\n  };\n\n  componentDidMount() {\n    this.props.store.dispatch(\n      actions.setApp({\n        open_menu: false\n      })\n    );\n\n    const width = window.innerWidth;\n    const height = window.innerHeight;\n    const scrollTop: number =\n      Math.max(\n        window.pageYOffset,\n        document.documentElement.scrollTop,\n        document.body.scrollTop\n      ) || 0;\n\n    this.props.store.dispatch(\n      actions.setApp({\n        windows: {\n          scrollTop: scrollTop,\n          width: width,\n          height: height,\n          vw: Math.floor(width * 0.01),\n          vh: Math.floor(height * 0.01)\n        }\n      })\n    );\n    document.addEventListener('scroll', this.handleScroll, false);\n    window.addEventListener('resize', this.handleResize, false);\n  }\n\n  componentWillUnmount() {\n    document.removeEventListener('scroll', this.handleScroll);\n    window.removeEventListener('resize', this.handleScroll);\n  }\n\n  render() {\n    const { Component, pageProps, store } = this.props;\n\n    return (\n      <Container>\n        <Provider store={store}>\n          <Head>\n            <title key=\"title\">株式会社 堀口繊維工業</title>\n            <meta\n              name=\"viewport\"\n              content=\"width=device-width,minimum-scale=1,initial-scale=1,minimal-ui\"\n            />\n            <meta name=\"apple-mobile-web-app-capable\" content=\"yes\" />\n          </Head>\n          <div className=\"wrapper\">\n            <Header />\n            <Component {...pageProps} />\n\n            <section className=\"section sectionRecentEntries\">\n              <div className=\"row\">\n                <div className=\"col-md-5\">\n                  <div className=\"section-heading\">\n                    <h3 className=\"section-title\">\n                      <span className=\"ja\">お知らせ</span>\n                      <span className=\"en\">News and Column</span>\n                    </h3>\n                  </div>\n                </div>\n\n                <div className=\"col-md-7\">\n                  <RecentEntries />\n                </div>\n              </div>\n            </section>\n          </div>\n          <Footer />\n        </Provider>\n      </Container>\n    );\n  }\n}\n\nexport default withRedux(makeStore)(MyApp);\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAOA;;;;;;;;;;;;;;;;;;AAcA;AACA;AAOA;AACA;AATA;AAAA;AACA;AASA;AAEA;AAEA;AAFA;AAFA;AACA;AAMA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAOA;AAEA;AACA;AACA;AACA;AACA;AACA;AALA;AADA;AAUA;AACA;AACA;;;;;;AACA;AACA;AAEA;AADA;AAKA;AACA;AACA;AAOA;AAEA;AACA;AACA;AACA;AACA;AACA;AALA;AADA;AAUA;AACA;AACA;;;AAEA;AACA;AACA;AACA;;;AAEA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;;;;;;;;;;;;AA1IA;AACA;AAKA;;;;;;AACA;AACA;;;;;;;AAAA;AACA;;AAHA;AAGA;AAAA;AAAA;AACA;;;;;;;;;;;;;;;;;;AAZA;AACA;AA8IA;;;;A","sourceRoot":""}