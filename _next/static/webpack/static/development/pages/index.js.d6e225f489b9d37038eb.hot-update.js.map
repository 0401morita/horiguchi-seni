{"version":3,"file":"static/webpack/static/development/pages/index.js.d6e225f489b9d37038eb.hot-update.js","sources":["webpack:///./node_modules/@babel/runtime-corejs2/helpers/esm/readOnlyError.js","webpack:///./pages/index.tsx"],"sourcesContent":["export default function _readOnlyError(name) {\n  throw new Error(\"\\\"\" + name + \"\\\" is read-only\");\n}","import React, { useState, useRef, useEffect } from 'react';\nimport Link from 'next/link';\nimport { connect } from 'react-redux';\nimport '../src/styles/home.scss';\nimport { HeroSection } from '../src/components/homes/slider';\nimport ServiceItem from '../src/components/homes/service_item';\nimport TopNews from '../src/components/shares/top_news';\nimport { ArrowRightIcon } from '../src/components/icons';\nimport { State } from '../src/reducers';\n\ninterface HomeProps {}\n\nconst Home: React.FC<HomeProps & State> = props => {\n  const [Services] = useState([\n    {\n      image_src:\n        'https://0401morita.github.io/horiguchi-seni/static/images/service/machine-quilting.jpg',\n      title: '縫製・販売',\n      summary: '生地・デザインの選定からユニフォームを縫製・販売',\n      label_en: 'Sewing & Sales',\n      label_ja: '縫製・販売について',\n      link: '/service/sewing'\n    },\n    {\n      image_src:\n        'https://0401morita.github.io/horiguchi-seni/static/images/service/name.jpg',\n      title: 'ユニフォーム販売',\n      summary: '各種メーカー品を特別価格にて販売',\n      label_en: 'Sale',\n      label_ja: '販売について',\n      link: '/service/sale'\n    },\n    {\n      image_src:\n        'https://0401morita.github.io/horiguchi-seni/static/images/service/iron.jpg',\n      title: 'リネンサプライ',\n      summary: 'ユニフォームのリースやクリーニング付リース',\n      label_en: 'Linen supply',\n      label_ja: 'リネンサプライについて',\n      link: '/service/linen-supply'\n    }\n  ]);\n\n  const [windowState, setWindowState] = useState({\n    width: 0,\n    height: 0,\n    vw: 0\n  });\n\n  const homeMessageSectionEl = useRef<HTMLDivElement>(null);\n  const primaryMessageEl = useRef<HTMLDivElement>(null);\n  /*\n   * リサイズ実行関数\n   *\n   * @event {Object} event - イベント\n   */\n  const handleResize = (e: any) => {\n    let timer = 200;\n    if (timer > 0) {\n      clearTimeout(timer);\n    }\n\n    timer = setTimeout(function() {\n      setWindowState({\n        ...windowState,\n        ...{\n          width: window.innerWidth,\n          height: window.innerHeight,\n          vw: Math.floor(window.innerWidth * 0.01)\n        }\n      });\n      handleScroll();\n    }, timer);\n  };\n  /*\n   * スクロール実行関数\n   *\n   * @event {Object} event - イベント\n   */\n  const handleScroll = () => {\n    const scrollTop = Math.max(\n      window.pageYOffset,\n      document.documentElement.scrollTop,\n      document.body.scrollTop\n    );\n\n    if (primaryMessageEl.current && homeMessageSectionEl.current) {\n      const { width: windowWidth, height: windowHeight, vw } = windowState;\n      let fixPosition = 0;\n      let scrollBottom = 0;\n      const homeMessageSectionTop = homeMessageSectionEl.current.offsetTop;\n      if (windowWidth >= 768) {\n        scrollBottom = scrollTop + window.innerHeight;\n        fixPosition =\n          messageVw +\n          homeMessageSectionTop +\n          homeMessageSectionHeight / 2 +\n          homePrimaryMessageHeight / 2;\n      } else {\n        scrollBottom = scrollTop + window.innerHeight;\n\n        fixPosition =\n          messageVw +\n          homeMessageSectionTop +\n          homePrimaryMessageHeight / 2 +\n          180 / 2;\n\n        console.log(fixPosition, scrollBottom);\n      }\n\n      if (fixPosition < scrollBottom) {\n        document.body.classList.add('fix-message');\n      } else {\n        document.body.classList.remove('fix-message');\n      }\n    }\n  };\n\n  useEffect(() => {\n    if (primaryMessageEl.current) {\n      console.log(primaryMessageEl.current);\n    }\n\n    windowState = {\n      width: window.innerWidth,\n      height: screen.height,\n      messageVw: Math.floor(window.innerWidth * 0.06),\n      homePrimaryMessageHeight: primaryMessageEl.current\n        ? primaryMessageEl.current.clientHeight\n        : 0,\n      homeMessageSectionHeight: homeMessageSectionEl.current\n        ? homeMessageSectionEl.current.clientHeight\n        : 0\n    };\n\n    document.body.classList.add('in');\n\n    var userAgent = navigator.userAgent;\n    if (\n      userAgent.indexOf('iPhone') >= 0 ||\n      userAgent.indexOf('iPad') >= 0 ||\n      userAgent.indexOf('Android') >= 0\n    ) {\n      window.addEventListener('orientationchange', handleResize);\n    } else {\n      window.addEventListener('resize', handleResize, false);\n    }\n\n    window.addEventListener('load', handleScroll, false);\n    window.addEventListener('scroll', handleScroll, false);\n    window.addEventListener('touchmove', handleScroll, false);\n    return () => {\n      window.removeEventListener('load', handleScroll, false);\n      window.removeEventListener('scroll', handleScroll, false);\n      window.removeEventListener('touchmove', handleScroll, false);\n      window.removeEventListener('resize', handleResize, false);\n      window.removeEventListener('orientationchange', handleResize);\n    };\n  }, []);\n\n  return (\n    <React.Fragment>\n      <HeroSection />\n      <main className=\"mainContainer\">\n        <div className=\"mainContainer__index\">Company - 会社概要</div>\n        <div className=\"content mainContainer__content\">\n          <section className=\"homeMessage\">\n            <div className=\"homeMessage__primary\">\n              <div className=\"primaryMessage\" ref={primaryMessageEl}>\n                <h2 className=\"primaryMessage__title\">\n                  <span>ENJOY</span>\n                  <br />\n                  <span>UNIFORM</span>\n                </h2>\n                <p className=\"primaryMessage__description\">\n                  <span>ユニフォームを着る人をもっと快適に。</span>\n                  <br />\n                  <span>もっと楽しく。</span>\n                </p>\n              </div>\n            </div>\n            <div className=\"homeMessage__secondary\">\n              <div className=\"secondaryMessage\">\n                <p>堀口繊維工業は、戦後まもなく縫製事業を立ち上げました。</p>\n                <p>\n                  ユニフォームを縫製・販売する一方で平成に入りクリーニング設備を\n                  整えました。\n                </p>\n                <p>\n                  現在、ユニフォームの縫製・販売・クリーニング・クリーニング付リース（リネンサプライ）を\n                  中心に展開いたしております。\n                </p>\n\n                <a className=\"read-more-link\">\n                  <span className=\"en\">About</span>\n                  <span className=\"ja\">堀口繊維工業について</span>\n                </a>\n              </div>\n            </div>\n          </section>\n\n          <div className=\"contentInnerHeader\">\n            <h3 className=\"contentInnerHeader__title\">\n              <span className=\"ja\">私たちの事業</span>\n              <span className=\"en\">Service</span>\n            </h3>\n          </div>\n\n          <div className=\"service-list\">\n            {Services.map((service, index) => {\n              return (\n                <ServiceItem\n                  {...{ ...service, index: '0' + (index + 1) }}\n                  key={index}\n                />\n              );\n            })}\n          </div>\n\n          <div className=\"contentFooter\">\n            <Link href=\"/contact\">\n              <a className=\"btn btn-black contentFooter__button\">\n                お問い合わせ\n                <ArrowRightIcon />\n              </a>\n            </Link>\n          </div>\n        </div>\n      </main>\n    </React.Fragment>\n  );\n};\n\nexport default connect(state => state)(Home);\n"],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACFA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAIA;AAAA;AAGA;AAEA;AACA;AACA;AACA;AACA;AAPA;AAUA;AAEA;AACA;AACA;AACA;AACA;AAPA;AAUA;AAEA;AACA;AACA;AACA;AACA;AAPA;AApBA;AAAA;AACA;AADA;AAgCA;AACA;AACA;AAHA;AA/BA;AAAA;AAAA;AACA;AAoCA;AACA;AACA;;;;;;AAKA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AAHA;AAMA;AACA;AACA;AACA;;;;;;;AAKA;AACA;AACA;AAKA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AAAA;AACA;AACA;AAKA;AACA;AAEA;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AAPA;AAYA;AAEA;AACA;AAAA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAEA;AADA;AAEA;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA;AACA;AACA;AAAA;AAAA;;;;A","sourceRoot":""}