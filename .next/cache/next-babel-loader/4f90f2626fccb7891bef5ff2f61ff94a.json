{"ast":null,"code":"import _objectSpread from \"@babel/runtime-corejs2/helpers/esm/objectSpread\";\nvar _jsxFileName = \"/Applications/XAMPP/xamppfiles/htdocs/horiguchi-seni.com/src/components/shares/sailingScrollDown.tsx\";\nimport React, { useRef, useState, useEffect } from 'react';\nimport clsx from 'clsx';\nimport EventListener from 'react-event-listener';\n\nconst SailingScrollDown = ({\n  text,\n  windows\n}) => {\n  const sailingScrollDownEl = useRef(null);\n\n  if (sailingScrollDownEl.current) {\n    const clientRect = sailingScrollDownEl.current ? sailingScrollDownEl.current.getBoundingClientRect() : null;\n  }\n\n  const [targetBox, setTargetBox] = useState({\n    fixedPoint: 0,\n    width: 0,\n    height: 0,\n    top: 0\n  });\n  const [isFixed, setIsFixed] = useState(false);\n  const [isFeature, setIsFeature] = useState(false);\n\n  const handleScroll = () => {\n    let timer = 200;\n\n    if (timer > 0) {\n      clearTimeout(timer);\n    }\n\n    timer = setTimeout(() => {\n      if (sailingScrollDownEl.current) {\n        const clientRect = sailingScrollDownEl.current ? sailingScrollDownEl.current.getBoundingClientRect() : null;\n\n        if (clientRect) {\n          setTargetBox(_objectSpread({}, targetBox, {\n            width: clientRect.width,\n            height: clientRect.height,\n            top: clientRect.top\n          }));\n        }\n      }\n    }, timer);\n    const {\n      scrollTop,\n      width,\n      vw,\n      vh\n    } = windows;\n    const isSmartPhone = width < 768;\n    let headerHeight = 76;\n\n    if (isSmartPhone) {\n      headerHeight = 56;\n    }\n\n    const point = targetBox.fixedPoint - headerHeight - 4;\n\n    if (point < scrollTop) {\n      setIsFixed(true);\n    } else {\n      setIsFixed(false);\n    }\n\n    if (point < scrollTop - targetBox.height / 2) {\n      setIsFeature(true);\n    } else {\n      setIsFeature(false);\n    }\n  };\n\n  const handleResize = () => {\n    const scrollTop = Math.max(window.pageYOffset, document.documentElement.scrollTop, document.body.scrollTop) || 0;\n    setIsFixed(false);\n    const {\n      width\n    } = windows;\n    const isSmartPhone = width < 768;\n    let headerHeight = 76;\n\n    if (isSmartPhone) {\n      headerHeight = 56;\n    }\n\n    if (sailingScrollDownEl.current) {\n      const clientRect = sailingScrollDownEl.current ? sailingScrollDownEl.current.getBoundingClientRect() : null;\n\n      if (clientRect) {\n        setTargetBox(_objectSpread({}, targetBox, {\n          fixedPoint: clientRect.top + scrollTop\n        }));\n      }\n    }\n\n    const point = targetBox.fixedPoint - headerHeight - 4;\n\n    if (point < scrollTop) {\n      setIsFixed(true);\n    } else {\n      setIsFixed(false);\n    }\n\n    if (point < scrollTop - targetBox.height / 2) {\n      setIsFeature(true);\n    } else {\n      setIsFeature(false);\n    }\n  };\n\n  useEffect(() => {\n    const {\n      width\n    } = windows;\n    const isSmartPhone = width < 768;\n    let headerHeight = 76;\n\n    if (isSmartPhone) {\n      headerHeight = 56;\n    }\n\n    const scrollTop = Math.max(window.pageYOffset, document.documentElement.scrollTop, document.body.scrollTop) || 0;\n    let fixedPoint = 0;\n\n    if (sailingScrollDownEl.current) {\n      const clientRect = sailingScrollDownEl.current ? sailingScrollDownEl.current.getBoundingClientRect() : null;\n      fixedPoint = clientRect.top + scrollTop;\n\n      if (clientRect) {\n        setTargetBox({\n          fixedPoint: fixedPoint,\n          width: clientRect.width,\n          height: clientRect.height,\n          top: clientRect.top\n        });\n      }\n    }\n\n    const point = fixedPoint - headerHeight - 4;\n\n    if (point < scrollTop) {\n      setIsFixed(true);\n    } else {\n      setIsFixed(false);\n    }\n\n    if (point < scrollTop - targetBox.height / 2) {\n      setIsFeature(true);\n    } else {\n      setIsFeature(false);\n    }\n  }, []);\n  return React.createElement(\"div\", {\n    ref: sailingScrollDownEl,\n    className: clsx({\n      sailingScrollDown: true,\n      fixed: isFixed,\n      feature: isFeature\n    }),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160\n    },\n    __self: this\n  }, React.createElement(EventListener, {\n    target: \"window\",\n    onScroll: handleScroll,\n    onResize: handleResize,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    className: \"sailingScrollDown__inner\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    className: \"sailingScrollDown__txt\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174\n    },\n    __self: this\n  }, text)), React.createElement(\"span\", {\n    className: \"sailingScrollDown__arrow\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176\n    },\n    __self: this\n  }));\n};\n\nexport default SailingScrollDown;","map":{"version":3,"sources":["/Applications/XAMPP/xamppfiles/htdocs/horiguchi-seni.com/src/components/shares/sailingScrollDown.tsx"],"names":["React","useRef","useState","useEffect","clsx","EventListener","SailingScrollDown","text","windows","sailingScrollDownEl","current","clientRect","getBoundingClientRect","targetBox","setTargetBox","fixedPoint","width","height","top","isFixed","setIsFixed","isFeature","setIsFeature","handleScroll","timer","clearTimeout","setTimeout","scrollTop","vw","vh","isSmartPhone","headerHeight","point","handleResize","Math","max","window","pageYOffset","document","documentElement","body","sailingScrollDown","fixed","feature"],"mappings":"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","sourcesContent":["import React, { useRef, useState, useEffect } from 'react';\nimport clsx from 'clsx';\nimport EventListener from 'react-event-listener';\nimport { AppState } from '../../reducers/app';\n\ninterface SailingScrollDownProps {\n  text: string;\n}\n\nconst SailingScrollDown: React.FC<SailingScrollDownProps & AppState> = ({\n  text,\n  windows\n}) => {\n  const sailingScrollDownEl = useRef<HTMLDivElement>(null);\n  if (sailingScrollDownEl.current) {\n    const clientRect: any = sailingScrollDownEl.current\n      ? sailingScrollDownEl.current.getBoundingClientRect()\n      : null;\n  }\n\n  const [targetBox, setTargetBox] = useState({\n    fixedPoint: 0,\n    width: 0,\n    height: 0,\n    top: 0\n  });\n  const [isFixed, setIsFixed] = useState(false);\n  const [isFeature, setIsFeature] = useState(false);\n  const handleScroll = () => {\n    let timer = 200;\n    if (timer > 0) {\n      clearTimeout(timer);\n    }\n\n    timer = setTimeout(() => {\n      if (sailingScrollDownEl.current) {\n        const clientRect: any = sailingScrollDownEl.current\n          ? sailingScrollDownEl.current.getBoundingClientRect()\n          : null;\n        if (clientRect) {\n          setTargetBox({\n            ...targetBox,\n            width: clientRect.width,\n            height: clientRect.height,\n            top: clientRect.top\n          });\n        }\n      }\n    }, timer);\n\n    const { scrollTop, width, vw, vh } = windows;\n    const isSmartPhone = width < 768;\n    let headerHeight = 76;\n    if (isSmartPhone) {\n      headerHeight = 56;\n    }\n    const point = targetBox.fixedPoint - headerHeight - 4;\n\n    if (point < scrollTop) {\n      setIsFixed(true);\n    } else {\n      setIsFixed(false);\n    }\n\n    if (point < scrollTop - targetBox.height / 2) {\n      setIsFeature(true);\n    } else {\n      setIsFeature(false);\n    }\n  };\n\n  const handleResize = () => {\n    const scrollTop: number =\n      Math.max(\n        window.pageYOffset,\n        document.documentElement.scrollTop,\n        document.body.scrollTop\n      ) || 0;\n\n    setIsFixed(false);\n    const { width } = windows;\n    const isSmartPhone = width < 768;\n    let headerHeight = 76;\n    if (isSmartPhone) {\n      headerHeight = 56;\n    }\n\n    if (sailingScrollDownEl.current) {\n      const clientRect: any = sailingScrollDownEl.current\n        ? sailingScrollDownEl.current.getBoundingClientRect()\n        : null;\n\n      if (clientRect) {\n        setTargetBox({\n          ...targetBox,\n          fixedPoint: clientRect.top + scrollTop\n        });\n      }\n    }\n\n    const point = targetBox.fixedPoint - headerHeight - 4;\n    if (point < scrollTop) {\n      setIsFixed(true);\n    } else {\n      setIsFixed(false);\n    }\n\n    if (point < scrollTop - targetBox.height / 2) {\n      setIsFeature(true);\n    } else {\n      setIsFeature(false);\n    }\n  };\n\n  useEffect(() => {\n    const { width } = windows;\n    const isSmartPhone = width < 768;\n    let headerHeight = 76;\n    if (isSmartPhone) {\n      headerHeight = 56;\n    }\n    const scrollTop: number =\n      Math.max(\n        window.pageYOffset,\n        document.documentElement.scrollTop,\n        document.body.scrollTop\n      ) || 0;\n    let fixedPoint = 0;\n    if (sailingScrollDownEl.current) {\n      const clientRect: any = sailingScrollDownEl.current\n        ? sailingScrollDownEl.current.getBoundingClientRect()\n        : null;\n      fixedPoint = clientRect.top + scrollTop;\n\n      if (clientRect) {\n        setTargetBox({\n          fixedPoint: fixedPoint,\n          width: clientRect.width,\n          height: clientRect.height,\n          top: clientRect.top\n        });\n      }\n    }\n\n    const point = fixedPoint - headerHeight - 4;\n    if (point < scrollTop) {\n      setIsFixed(true);\n    } else {\n      setIsFixed(false);\n    }\n\n    if (point < scrollTop - targetBox.height / 2) {\n      setIsFeature(true);\n    } else {\n      setIsFeature(false);\n    }\n  }, []);\n\n  return (\n    <div\n      ref={sailingScrollDownEl}\n      className={clsx({\n        sailingScrollDown: true,\n        fixed: isFixed,\n        feature: isFeature\n      })}\n    >\n      <EventListener\n        target=\"window\"\n        onScroll={handleScroll}\n        onResize={handleResize}\n      />\n      <div className=\"sailingScrollDown__inner\">\n        <span className=\"sailingScrollDown__txt\">{text}</span>\n      </div>\n      <span className=\"sailingScrollDown__arrow\"></span>\n    </div>\n  );\n};\n\nexport default SailingScrollDown;\n"]},"metadata":{},"sourceType":"module"}