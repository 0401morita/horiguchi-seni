{"ast":null,"code":"import _objectSpread from \"@babel/runtime-corejs2/helpers/esm/objectSpread\";\nimport _slicedToArray from \"@babel/runtime-corejs2/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Applications/XAMPP/xamppfiles/htdocs/horiguchi-seni.com/src/components/shares/sailingScrollDown.tsx\";\nimport React, { useRef, useState, useEffect } from 'react';\nimport clsx from 'clsx';\nimport EventListener from 'react-event-listener';\n\nvar SailingScrollDown = function SailingScrollDown(_ref) {\n  var text = _ref.text,\n      windows = _ref.windows;\n  var sailingScrollDownEl = useRef(null);\n\n  if (sailingScrollDownEl.current) {\n    var clientRect = sailingScrollDownEl.current ? sailingScrollDownEl.current.getBoundingClientRect() : null;\n  }\n\n  var _useState = useState({\n    fixedPoint: 0,\n    width: 0,\n    height: 0,\n    top: 0\n  }),\n      _useState2 = _slicedToArray(_useState, 2),\n      targetBox = _useState2[0],\n      setTargetBox = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      isFixed = _useState4[0],\n      setIsFixed = _useState4[1];\n\n  var _useState5 = useState(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      isFeature = _useState6[0],\n      setIsFeature = _useState6[1];\n\n  var handleScroll = function handleScroll() {\n    var timer = 200;\n\n    if (timer > 0) {\n      clearTimeout(timer);\n    }\n\n    timer = setTimeout(function () {\n      if (sailingScrollDownEl.current) {\n        var _clientRect = sailingScrollDownEl.current ? sailingScrollDownEl.current.getBoundingClientRect() : null;\n\n        if (_clientRect) {\n          setTargetBox(_objectSpread({}, targetBox, {\n            width: _clientRect.width,\n            height: _clientRect.height,\n            top: _clientRect.top\n          }));\n        }\n      }\n    }, timer);\n    var scrollTop = windows.scrollTop,\n        width = windows.width,\n        vw = windows.vw,\n        vh = windows.vh;\n    var isSmartPhone = width < 768;\n    var headerHeight = 76;\n\n    if (isSmartPhone) {\n      headerHeight = 56;\n    }\n\n    var point = targetBox.fixedPoint - headerHeight - 4;\n\n    if (point < scrollTop) {\n      setIsFixed(true);\n    } else {\n      setIsFixed(false);\n    }\n\n    if (point < scrollTop - targetBox.height / 2) {\n      setIsFeature(true);\n    } else {\n      setIsFeature(false);\n    }\n  };\n\n  var handleResize = function handleResize() {\n    var scrollTop = Math.max(window.pageYOffset, document.documentElement.scrollTop, document.body.scrollTop) || 0;\n    setIsFixed(false);\n    var width = windows.width;\n    var isSmartPhone = width < 768;\n    var headerHeight = 76;\n\n    if (isSmartPhone) {\n      headerHeight = 56;\n    }\n\n    if (sailingScrollDownEl.current) {\n      var _clientRect2 = sailingScrollDownEl.current ? sailingScrollDownEl.current.getBoundingClientRect() : null;\n\n      if (_clientRect2) {\n        setTargetBox(_objectSpread({}, targetBox, {\n          fixedPoint: _clientRect2.top + scrollTop\n        }));\n      }\n    }\n\n    var point = targetBox.fixedPoint - headerHeight - 4;\n\n    if (point < scrollTop) {\n      setIsFixed(true);\n    } else {\n      setIsFixed(false);\n    }\n\n    if (point < scrollTop - targetBox.height / 2) {\n      setIsFeature(true);\n    } else {\n      setIsFeature(false);\n    }\n  };\n\n  useEffect(function () {\n    var width = windows.width;\n    var isSmartPhone = width < 768;\n    var headerHeight = 76;\n\n    if (isSmartPhone) {\n      headerHeight = 56;\n    }\n\n    var scrollTop = Math.max(window.pageYOffset, document.documentElement.scrollTop, document.body.scrollTop) || 0;\n    var fixedPoint = 0;\n\n    if (sailingScrollDownEl.current) {\n      var _clientRect3 = sailingScrollDownEl.current ? sailingScrollDownEl.current.getBoundingClientRect() : null;\n\n      fixedPoint = _clientRect3.top + scrollTop;\n\n      if (_clientRect3) {\n        setTargetBox({\n          fixedPoint: fixedPoint,\n          width: _clientRect3.width,\n          height: _clientRect3.height,\n          top: _clientRect3.top\n        });\n      }\n    }\n\n    var point = fixedPoint - headerHeight - 4;\n\n    if (point < scrollTop) {\n      setIsFixed(true);\n    } else {\n      setIsFixed(false);\n    }\n\n    if (point < scrollTop - targetBox.height / 2) {\n      setIsFeature(true);\n    } else {\n      setIsFeature(false);\n    }\n  }, []);\n  return React.createElement(\"div\", {\n    ref: sailingScrollDownEl,\n    className: clsx({\n      sailingScrollDown: true,\n      fixed: isFixed,\n      feature: isFeature\n    }),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160\n    },\n    __self: this\n  }, React.createElement(EventListener, {\n    target: \"window\",\n    onScroll: handleScroll,\n    onResize: handleResize,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    className: \"sailingScrollDown__inner\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    className: \"sailingScrollDown__txt\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174\n    },\n    __self: this\n  }, text)), React.createElement(\"span\", {\n    className: \"sailingScrollDown__arrow\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176\n    },\n    __self: this\n  }));\n};\n\nexport default SailingScrollDown;","map":{"version":3,"sources":["/Applications/XAMPP/xamppfiles/htdocs/horiguchi-seni.com/src/components/shares/sailingScrollDown.tsx"],"names":["React","useRef","useState","useEffect","clsx","EventListener","SailingScrollDown","text","windows","sailingScrollDownEl","current","clientRect","getBoundingClientRect","fixedPoint","width","height","top","targetBox","setTargetBox","isFixed","setIsFixed","isFeature","setIsFeature","handleScroll","timer","clearTimeout","setTimeout","scrollTop","vw","vh","isSmartPhone","headerHeight","point","handleResize","Math","max","window","pageYOffset","document","documentElement","body","sailingScrollDown","fixed","feature"],"mappings":"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","sourcesContent":["import React, { useRef, useState, useEffect } from 'react';\nimport clsx from 'clsx';\nimport EventListener from 'react-event-listener';\nimport { AppState } from '../../reducers/app';\n\ninterface SailingScrollDownProps {\n  text: string;\n}\n\nconst SailingScrollDown: React.FC<SailingScrollDownProps & AppState> = ({\n  text,\n  windows\n}) => {\n  const sailingScrollDownEl = useRef<HTMLDivElement>(null);\n  if (sailingScrollDownEl.current) {\n    const clientRect: any = sailingScrollDownEl.current\n      ? sailingScrollDownEl.current.getBoundingClientRect()\n      : null;\n  }\n\n  const [targetBox, setTargetBox] = useState({\n    fixedPoint: 0,\n    width: 0,\n    height: 0,\n    top: 0\n  });\n  const [isFixed, setIsFixed] = useState(false);\n  const [isFeature, setIsFeature] = useState(false);\n  const handleScroll = () => {\n    let timer = 200;\n    if (timer > 0) {\n      clearTimeout(timer);\n    }\n\n    timer = setTimeout(() => {\n      if (sailingScrollDownEl.current) {\n        const clientRect: any = sailingScrollDownEl.current\n          ? sailingScrollDownEl.current.getBoundingClientRect()\n          : null;\n        if (clientRect) {\n          setTargetBox({\n            ...targetBox,\n            width: clientRect.width,\n            height: clientRect.height,\n            top: clientRect.top\n          });\n        }\n      }\n    }, timer);\n\n    const { scrollTop, width, vw, vh } = windows;\n    const isSmartPhone = width < 768;\n    let headerHeight = 76;\n    if (isSmartPhone) {\n      headerHeight = 56;\n    }\n    const point = targetBox.fixedPoint - headerHeight - 4;\n\n    if (point < scrollTop) {\n      setIsFixed(true);\n    } else {\n      setIsFixed(false);\n    }\n\n    if (point < scrollTop - targetBox.height / 2) {\n      setIsFeature(true);\n    } else {\n      setIsFeature(false);\n    }\n  };\n\n  const handleResize = () => {\n    const scrollTop: number =\n      Math.max(\n        window.pageYOffset,\n        document.documentElement.scrollTop,\n        document.body.scrollTop\n      ) || 0;\n\n    setIsFixed(false);\n    const { width } = windows;\n    const isSmartPhone = width < 768;\n    let headerHeight = 76;\n    if (isSmartPhone) {\n      headerHeight = 56;\n    }\n\n    if (sailingScrollDownEl.current) {\n      const clientRect: any = sailingScrollDownEl.current\n        ? sailingScrollDownEl.current.getBoundingClientRect()\n        : null;\n\n      if (clientRect) {\n        setTargetBox({\n          ...targetBox,\n          fixedPoint: clientRect.top + scrollTop\n        });\n      }\n    }\n\n    const point = targetBox.fixedPoint - headerHeight - 4;\n    if (point < scrollTop) {\n      setIsFixed(true);\n    } else {\n      setIsFixed(false);\n    }\n\n    if (point < scrollTop - targetBox.height / 2) {\n      setIsFeature(true);\n    } else {\n      setIsFeature(false);\n    }\n  };\n\n  useEffect(() => {\n    const { width } = windows;\n    const isSmartPhone = width < 768;\n    let headerHeight = 76;\n    if (isSmartPhone) {\n      headerHeight = 56;\n    }\n    const scrollTop: number =\n      Math.max(\n        window.pageYOffset,\n        document.documentElement.scrollTop,\n        document.body.scrollTop\n      ) || 0;\n    let fixedPoint = 0;\n    if (sailingScrollDownEl.current) {\n      const clientRect: any = sailingScrollDownEl.current\n        ? sailingScrollDownEl.current.getBoundingClientRect()\n        : null;\n      fixedPoint = clientRect.top + scrollTop;\n\n      if (clientRect) {\n        setTargetBox({\n          fixedPoint: fixedPoint,\n          width: clientRect.width,\n          height: clientRect.height,\n          top: clientRect.top\n        });\n      }\n    }\n\n    const point = fixedPoint - headerHeight - 4;\n    if (point < scrollTop) {\n      setIsFixed(true);\n    } else {\n      setIsFixed(false);\n    }\n\n    if (point < scrollTop - targetBox.height / 2) {\n      setIsFeature(true);\n    } else {\n      setIsFeature(false);\n    }\n  }, []);\n\n  return (\n    <div\n      ref={sailingScrollDownEl}\n      className={clsx({\n        sailingScrollDown: true,\n        fixed: isFixed,\n        feature: isFeature\n      })}\n    >\n      <EventListener\n        target=\"window\"\n        onScroll={handleScroll}\n        onResize={handleResize}\n      />\n      <div className=\"sailingScrollDown__inner\">\n        <span className=\"sailingScrollDown__txt\">{text}</span>\n      </div>\n      <span className=\"sailingScrollDown__arrow\"></span>\n    </div>\n  );\n};\n\nexport default SailingScrollDown;\n"]},"metadata":{},"sourceType":"module"}